###############################
 SVG Path Editor Documentation
###############################

A small library for editing, transforming, and optimizing SVG paths in
Python.

It is a port of `svg-path-editor-lib
<https://www.npmjs.com/package/svg-path-editor-lib>`_ 1.0.3 to Python
with a more Pythonic interface:

-  Out-of-place by default: most operations return new objects instead
   of mutating in place (similar to ``datetime`` or ``pathlib``).
-  Typed and documented: type hints and docstrings for good IDE support
   and static analysis.
-  Tested: the test suite is based on ``pytest``.

#############
 Quick Start
#############

.. currentmodule:: svg_path_editor

*************
 Basic Usage
*************

A good place to start is to parse an SVG path string into an
:class:`SvgPath` and print it:

.. code:: python

   from svg_path_editor import SvgPath, change_path_origin, optimize_path, reverse_path

   path = SvgPath("M-15 14s5 7.5 15 7.5 15-7.5 15-7.5 z")

   # __str__ returns a fairly readable (non-minified) SVG path string
   # M -15 14 s 5 7.5 15 7.5 s 15 -7.5 15 -7.5 z
   print(path)

   # Custom decimals and minified output (decimals=None, minify=False by default)
   # M-15 14s5 7.5 15 7.5 15-7.5 15-7.5z
   print(path.as_string(decimals=1, minify=True))

**********************
 Geometric Operations
**********************

All geometric operations are out-of-place:

.. code:: python

   # Scale
   # M -30 28 s 10 15 30 15 s 30 -15 30 -15 z
   print(path.scale(kx=2, ky=2))

   # Translate
   # M -14 14.5 s 5 7.5 15 7.5 s 15 -7.5 15 -7.5 z
   print(path.translate(dx=1, dy=0.5))

   # Rotate around (0, 0)
   # M -14 -15 s -7.5 5 -7.5 15 s 7.5 15 7.5 15 z
   print(path.rotate(ox=0, oy=0, degrees=90).as_string(decimals=2))

********************************
 Absolute vs. Relative Commands
********************************

You can convert between equivalent absolute (``M``, ``L``, ``C``, …) and
relative (``m``, ``l``, ``c``, …) representations, either in-place or
out-of-place:

.. code:: python

   # In-place: `SvgPath.relative` mutates the instance
   absolute = path.clone()
   absolute.relative = False
   # M -15 14 S -10 21.5 0 21.5 S 15 14 15 14 Z
   print(absolute)

   # Out-of-place: `SvgPath.with_relative()` returns a new path
   relative = path.with_relative(True)
   # m -15 14 s 5 7.5 15 7.5 s 15 -7.5 15 -7.5 z
   print(relative)

******************************
 Higher-Level Path Operations
******************************

Higher-level operations work out-of-place as well:

.. code:: python

   # Reverse path direction
   # M 15 14 S 10 21.5 0 21.5 S -15 14 -15 14 Z
   print(reverse_path(path))

   # Change the origin (starting command) within a subpath
   # M 0 21.5 c 10 0 15 -7.5 15 -7.5 L -15 14 s 5 7.5 15 7.5
   print(change_path_origin(path, new_origin_index=2))

*******************
 Path Optimization
*******************

:func:`optimize_path` rewrites a path into an equivalent but more
compact form:

.. code:: python

   optimized = optimize_path(
       path,
       # Remove redundant M/Z or degenerate L/H/V.
       remove_useless_commands=True,
       # Remove empty closed subpaths (M immediately followed by Z).
       remove_orphan_dots=True,
       # Convert eligible C/Q to S/T.
       use_shorthands=True,
       # Replace L with H/V where possible.
       use_horizontal_and_vertical_lines=True,
       # Choose relative/absolute per command to minimize size.
       use_relative_absolute=True,
       # Try reversing path direction if it reduces output length.
       # This may change the appearance of stroked paths.
       use_reverse=True,
       # Convert final line segments that return to start into Z.
       # This may change the appearance of stroked paths.
       use_close_path=True,
   )

   # More readable form
   # M -15 14 s 5 7.5 15 7.5 S 15 14 15 14 z
   print(optimized)
   # Minified form
   # M-15 14s5 7.5 15 7.5S15 14 15 14z
   print(optimized.as_string(minify=True))

###############
 API Reference
###############

See the full :doc:`API reference generated by autoapi
<autoapi/svg_path_editor/index>`.

.. toctree::
   :maxdepth: 2
   :hidden:

   autoapi/svg_path_editor/index

####################
 Indices and Tables
####################

-  :ref:`genindex`
-  :ref:`modindex`
